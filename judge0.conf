################################################################################
# Judge0 Configuration File
################################################################################

################################################################################
# Judge0 Server Configuration
################################################################################
# Disable telemetry to keep the setup minimal.
JUDGE0_TELEMETRY_ENABLE=false

# Automatically restart Judge0 server if it fails to start.
RESTART_MAX_TRIES=10

# Maintenance mode
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=Judge0 is currently in maintenance.

# Enable synchronous result fetching.
ENABLE_WAIT_RESULT=true

# Allow custom compiler options and command-line arguments.
ENABLE_COMPILER_OPTIONS=true
ENABLE_COMMAND_LINE_ARGUMENTS=true

# Disable batched submissions to simplify processing.
ENABLE_BATCHED_SUBMISSIONS=false

# Disable callbacks since they aren't required in this setup.
ENABLE_CALLBACKS=false
CALLBACKS_MAX_TRIES=0
CALLBACKS_TIMEOUT=0

# Disable additional files for simplicity.
ENABLE_ADDITIONAL_FILES=false

# Set cache duration to 0 (no caching).
SUBMISSION_CACHE_DURATION=0

# Use an empty homepage instead of the documentation page.
USE_DOCS_AS_HOMEPAGE=false

# Disable implicit Base64 encoding.
DISABLE_IMPLICIT_BASE64_ENCODING=true


################################################################################
# Judge0 Workers Configuration
################################################################################
# Worker settings
INTERVAL=0.1
COUNT=4  # Adjust based on your system's CPU cores
MAX_QUEUE_SIZE=100


################################################################################
# Judge0 Server Access Configuration
################################################################################
# Allow all origins and IP addresses.
ALLOW_ORIGIN=*
DISALLOW_ORIGIN=
ALLOW_IP=
DISALLOW_IP=


################################################################################
# Judge0 Authentication Configuration
################################################################################
# Disable authentication by leaving tokens blank.
AUTHN_HEADER=
AUTHN_TOKEN=


################################################################################
# Judge0 Authorization Configuration
################################################################################
# Disable authorization by leaving tokens blank.
AUTHZ_HEADER=
AUTHZ_TOKEN=


################################################################################
# Redis Configuration
################################################################################
# Disable Redis by leaving all related fields blank.
REDIS_HOST=
REDIS_PORT=
REDIS_PASSWORD=
RESQUE_NAMESPACE=


################################################################################
# PostgreSQL Configuration
################################################################################
# Disable PostgreSQL by leaving all related fields blank.
POSTGRES_HOST=
POSTGRES_PORT=
POSTGRES_DB=
POSTGRES_USER=
POSTGRES_PASSWORD=


################################################################################
# Submission Configuration
################################################################################
# Sandbox resource limits and submission configuration.
CPU_TIME_LIMIT=5
MAX_CPU_TIME_LIMIT=15
CPU_EXTRA_TIME=1
MAX_CPU_EXTRA_TIME=5
WALL_TIME_LIMIT=10
MAX_WALL_TIME_LIMIT=20
MEMORY_LIMIT=128000
MAX_MEMORY_LIMIT=512000
STACK_LIMIT=64000
MAX_STACK_LIMIT=128000
MAX_PROCESSES_AND_OR_THREADS=60
MAX_MAX_PROCESSES_AND_OR_THREADS=120

# Prevent per-process/thread limits for simplicity.
ENABLE_PER_PROCESS_AND_THREAD_TIME_LIMIT=false
ALLOW_ENABLE_PER_PROCESS_AND_THREAD_TIME_LIMIT=false
ENABLE_PER_PROCESS_AND_THREAD_MEMORY_LIMIT=false
ALLOW_ENABLE_PER_PROCESS_AND_THREAD_MEMORY_LIMIT=false

MAX_FILE_SIZE=1024
MAX_MAX_FILE_SIZE=4096

NUMBER_OF_RUNS=1
MAX_NUMBER_OF_RUNS=20

REDIRECT_STDERR_TO_STDOUT=false
MAX_EXTRACT_SIZE=10240

# Disable networking for submissions.
ALLOW_ENABLE_NETWORK=false
ENABLE_NETWORK=false


################################################################################
# Rails Configuration
################################################################################
# Rails environment and thread/process settings.
RAILS_ENV=production
RAILS_MAX_THREADS=4  # Adjust based on your system.
RAILS_SERVER_PROCESSES=2

# Secret key base for production (optional, generated if left blank).
SECRET_KEY_BASE=
